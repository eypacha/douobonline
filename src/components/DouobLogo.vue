<template>
  <svg viewBox="0 0 710 200" fill="#1f1f1f" class="logo">
    <g class="leftblink" v-if="blink">
      <rect
        x="105"
        y="84"
        width="13"
        height="57"
        transform="translate(224 1) rotate(90)"
      />
    </g>
    <g class="left" v-else>
      <path
        d="M136.22,91.78c-6.31-5.28-14.92-8.19-24.24-8.19s-17.88,2.89-24.19,8.14c-6.47,5.38-10.03,12.91-10.03,21.2s3.57,15.8,10.05,21.17c6.31,5.23,14.89,8.1,24.16,8.1,19.5,0,34.21-12.58,34.21-29.27,0-8.25-3.54-15.76-9.97-21.15ZM132.56,112.93c0,10.04-8.82,17.6-20.51,17.6s-20.73-7.57-20.73-17.6,8.91-17.68,20.73-17.68,20.51,7.6,20.51,17.68Z"
      />
    </g>
    <g class="rightblink" v-if="blink">
      <rect
        x="260"
        y="84"
        width="13"
        height="57"
        transform="translate(379 -154) rotate(90)"
      />
    </g>
    <g class="right" v-else>
      <path
        d="M290.54,91.78c-6.31-5.28-14.92-8.19-24.24-8.19s-17.88,2.89-24.19,8.14c-6.47,5.38-10.03,12.91-10.03,21.2s3.57,15.8,10.05,21.17c6.31,5.23,14.89,8.1,24.16,8.1,19.51,0,34.21-12.58,34.21-29.27,0-8.25-3.54-15.76-9.97-21.15ZM286.88,112.93c0,10.04-8.82,17.6-20.51,17.6s-20.73-7.57-20.73-17.6,8.91-17.68,20.73-17.68,20.51,7.6,20.51,17.68Z"
      />
    </g>
    <g id="TODO">
      <path
        d="M364.64,92.92c-5.59-5.42-13.82-8.17-24.47-8.17h-13.25v-27.62h-12.89v83.84h26.95c18.97,0,31.23-11.18,31.23-28.47,0-8-2.61-14.77-7.56-19.57ZM358.65,113.08c0,14.74-11,16.44-19.28,16.44h-12.44v-33.32h9.9c4.34,0,9.74,0,14.11,2.1,5.12,2.46,7.71,7.43,7.71,14.77Z"
      />
      <path
        d="M54.92,57.12v27.62h-14.04c-18.97,0-31.23,11.18-31.23,28.47,0,8.01,2.61,14.77,7.56,19.57,5.59,5.42,13.82,8.17,24.47,8.17h26.15V57.12h-12.9ZM54.92,96.2v33.32h-9.9c-4.34,0-9.74,0-14.11-2.1-5.12-2.46-7.71-7.43-7.71-14.77,0-14.74,11-16.44,19.28-16.44h12.44Z"
      />
      <path
        d="M207.79,117.22c0,8.59-4.6,13.32-12.95,13.32h-9.93c-8.35,0-12.95-4.73-12.95-13.32v-32.47h-12.9v33.56c0,4.21.78,10.28,4.52,15.24,4.33,5.74,11.48,8.66,21.26,8.66h9.93c9.68,0,25.93-3.1,25.93-23.89v-33.56h-12.9v32.47Z"
      />
      <path
        d="M380.7,135.03c0-3.27,2.97-5.84,6.73-5.84,3.56,0,6.44,2.57,6.44,5.84s-2.87,6.04-6.44,6.04c-3.76,0-6.73-2.67-6.73-6.04Z"
      />
      <path
        d="M397.43,113.15c0-17.13,13.56-29.11,32.87-29.11s32.77,11.98,32.77,29.11-13.56,28.91-32.77,28.91-32.87-11.88-32.87-28.91ZM454.35,113.15c0-12.97-9.8-22.08-24.06-22.08s-24.16,9.11-24.16,22.08,9.9,21.88,24.16,21.88,24.06-9.01,24.06-21.88Z"
      />
      <path
        d="M471.78,140.38v-54.75h7.92v10.2h.2c5.15-8.32,13.76-11.78,23.07-11.78,11.68,0,23.86,5.64,23.86,21.98v34.35h-8.12v-30.99c0-12.87-8.32-18.31-17.92-18.31-13.36,0-20.89,9.31-20.89,19.01v30.29h-8.12Z"
      />
      <path d="M539.59,140.38V61.18h8.12v79.2h-8.12Z" />
      <path
        d="M558.7,66.72c0-3.27,2.97-5.84,6.73-5.84s6.63,2.67,6.63,5.84c0,3.37-2.97,6.04-6.63,6.04-3.86,0-6.73-2.67-6.73-6.04ZM561.37,140.38v-54.75h8.12v54.75h-8.12Z"
      />
      <path
        d="M583.15,140.38v-54.75h7.92v10.2h.2c5.15-8.32,13.76-11.78,23.07-11.78,11.68,0,23.86,5.64,23.86,21.98v34.35h-8.12v-30.99c0-12.87-8.32-18.31-17.92-18.31-13.36,0-20.89,9.31-20.89,19.01v30.29h-8.12Z"
      />
      <path
        d="M645.13,113.15c0-17.03,11.78-29.11,28.21-29.11,11.09,0,26.33,5.94,26.33,27.62v3.46h-46.63c.4,12.57,9.01,20.2,20.69,20.2,9.7,0,16.43-5.84,19.6-13.36l7.03,2.57c-4.26,10.99-14.45,17.52-26.83,17.52-16.33,0-28.41-11.58-28.41-28.91ZM691.56,108.5c-.3-13.27-9.9-17.82-18.41-17.82-10.69,0-18.12,7.33-19.7,17.82h38.11Z"
      />
    </g>
  </svg>
</template>

<script setup>
import { ref, onMounted, onBeforeUnmount } from "vue";

const blink = ref(false);
const blinkInterval = ref(null);
const blinkTimeOut = ref(null);
const BLINK_INTERVAL = 12000;
const BLINK_DURATION = 150;

const triggerBlink = () => {
  blink.value = true;
  blinkTimeOut.value = setTimeout(() => {
    blink.value = false;
  }, BLINK_DURATION);
};

onMounted(() => {
  setTimeout(() => {
    triggerBlink();
    blinkInterval.value = setInterval(() => {
      triggerBlink();
    }, BLINK_INTERVAL);
  }, 6000);
});

onBeforeUnmount(() => {
  if (blinkInterval.value) clearInterval(blinkInterval.value);
  if (blinkTimeOut.value) clearTimeout(blinkTimeOut.value);
});
</script>
